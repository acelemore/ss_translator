var Fl=Object.defineProperty,Jl=Object.defineProperties;var Al=Object.getOwnPropertyDescriptors;var Ee=Object.getOwnPropertySymbols;var Nl=Object.prototype.hasOwnProperty,Sl=Object.prototype.propertyIsEnumerable;var Be=(c,v,m)=>v in c?Fl(c,v,{enumerable:!0,configurable:!0,writable:!0,value:m}):c[v]=m,se=(c,v)=>{for(var m in v||(v={}))Nl.call(v,m)&&Be(c,m,v[m]);if(Ee)for(var m of Ee(v))Sl.call(v,m)&&Be(c,m,v[m]);return c},De=(c,v)=>Jl(c,Al(v));var _=(c,v,m)=>new Promise((L,E)=>{var k=j=>{try{D(m.next(j))}catch(O){E(O)}},N=j=>{try{D(m.throw(j))}catch(O){E(O)}},D=j=>j.done?L(j.value):Promise.resolve(j.value).then(k,N);D((m=m.apply(c,v)).next())});import{r as f,_ as $l,u as Ul,c as W,E as n,a as q,b as re,o as Ll,d as P,e as p,f as l,g as A,h as ie,w as t,i as s,j as y,F as X,k as Y,l as b,m as r,t as J,n as ue,p as Ol,q as Te}from"./index-jGo40FSK.js";function qe(){const c=f(new Map);return{createLoadingHandler:(k,N="default")=>{c.value.has(N)||c.value.set(N,!1);const D=f(!1),j=T=>{D.value=T,c.value.set(N,T)};return{handler:(...T)=>_(null,null,function*(){if(!c.value.get(N))try{return j(!0),yield k(...T)}catch(z){throw z}finally{j(!1)}}),loading:D,isLoading:()=>c.value.get(N)||!1}},getLoadingState:(k="default")=>c.value.get(k)||!1,clearLoading:(k="default")=>{c.value.set(k,!1)},clearAllLoading:()=>{for(const[k]of c.value)c.value.set(k,!1)},loadingStates:c}}qe();const hl={class:"config-view"},Rl={class:"config-selector"},Pl={class:"empty-state"},El={class:"empty-state"},Bl={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Dl={class:"file-config-section"},Tl={class:"section-header"},ql={class:"config-count"},zl={key:1,class:"empty-state"},Hl={class:"file-config-section"},Ml={class:"section-header"},Il={class:"config-count"},Gl={key:1,class:"empty-state"},Kl={class:"file-config-section"},Ql={class:"section-header"},Wl={class:"config-count"},Xl={style:{"font-size":"12px",color:"var(--el-text-color-secondary)"}},Yl={key:1,class:"empty-state"},Zl={class:"field-config-list"},et={__name:"ConfigView",setup(c){const v=Ul(),{createLoadingHandler:m}=qe(),L=f(""),E=f(!1),k=f(!1),N=f(!1),D=f(),j=f(null),O=f(),T=f(),z=f(),Ae=f("csv"),me=f({}),g=f({csv_files:{},json_files:{},jar_files:{}}),ce=f(!1),ge=f(!1),_e=f(!1),ye=f(!1),Z=f(!1),H=f(!1),S=f({path:"",fields:[{name:"",function:""}]}),ze={path:[{required:!0,message:"è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„",trigger:"blur"},{pattern:/^\.\/.*\.csv$/i,message:'æ–‡ä»¶è·¯å¾„å¿…é¡»ä»¥"./"å¼€å¤´ä¸”ä»¥".csv"ç»“å°¾',trigger:"blur"}],fields:[{validator:(a,e,i)=>{if(!e||e.length===0){i(new Error("è‡³å°‘éœ€è¦é…ç½®ä¸€ä¸ªå­—æ®µ"));return}const x=e.filter(G=>G.name.trim()&&G.function);if(x.length===0){i(new Error("è‡³å°‘éœ€è¦é…ç½®ä¸€ä¸ªå®Œæ•´çš„å­—æ®µ"));return}const te=x.map(G=>G.name.trim()),u=[...new Set(te)];if(te.length!==u.length){i(new Error("å­—æ®µåä¸èƒ½é‡å¤"));return}i()},trigger:"change"}]},He={path:[{required:!0,message:"è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„",trigger:"blur"},{pattern:/^\.\/.*\.json$/i,message:'æ–‡ä»¶è·¯å¾„å¿…é¡»ä»¥"./"å¼€å¤´ä¸”ä»¥".json"ç»“å°¾',trigger:"blur"}],extract_function:[{required:!0,message:"è¯·é€‰æ‹©å¤„ç†å‡½æ•°",trigger:"change"}]},Me={path:[{required:!0,message:"è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„",trigger:"blur"},{pattern:/^\.\/.*\.jar$/i,message:'æ–‡ä»¶è·¯å¾„å¿…é¡»ä»¥"./"å¼€å¤´ä¸”ä»¥".jar"ç»“å°¾',trigger:"blur"}],extract_function:[{required:!0,message:"è¯·é€‰æ‹©å¤„ç†å‡½æ•°",trigger:"change"}]},ee=f(!1),M=f(!1),$=f({path:"",extract_function:"",description:""}),le=f(!1),I=f(!1),C=f({path:"",extract_function:"jar_extract",description:"",backup_suffix:".backup",output_suffix:"_translated.jar"}),h=f({configName:"",modName:"",modPath:"",description:""}),R=f({api_key:"",base_url:"https://api.openai.com/v1",model:"gpt-3.5-turbo",max_tokens:2e3}),de=f(null),we=W(()=>v.configs),d=W(()=>v.currentConfig),Ce=W(()=>{const a={};return Object.entries(me.value).forEach(([e,i])=>{typeof i=="string"?a[e]=i:typeof i=="object"&&i.description&&(a[e]=i.description)}),a}),be=a=>{const e={};return Object.entries(me.value).forEach(([i,x])=>{typeof x=="string"?e[i]=x:typeof x=="object"&&x.description&&(x.file_type===a||!x.file_type)&&(e[i]=x.description)}),e},Ve=W(()=>Object.entries(g.value.csv_files||{}).map(([a,e])=>({path:a,fields:e}))),xe=W(()=>Object.entries(g.value.json_files||{}).map(([a,e])=>se({path:a},e))),ke=W(()=>Object.entries(g.value.jar_files||{}).map(([a,e])=>se({path:a},e))),fe=()=>_(null,null,function*(){try{yield v.loadConfigs()}catch(a){n.error("åŠ è½½é…ç½®å¤±è´¥")}}),{handler:Ie,loading:Ge}=m(()=>_(null,null,function*(){const a=h.value;if(!a.configName||!a.modName||!a.modPath){n.warning("è¯·å¡«å†™å¿…å¡«é¡¹");return}try{const e=yield q.createConfig(a.configName,a.modName,a.modPath,a.description);if(e.success){n.success("é…ç½®åˆ›å»ºæˆåŠŸ"),E.value=!1;const i=a.configName;h.value={configName:"",modName:"",modPath:"",description:""},yield fe(),L.value=i,yield Pe(i)}else n.error(e.message)}catch(e){n.error("åˆ›å»ºé…ç½®å¤±è´¥")}}),"createConfig"),{handler:Ke,loading:Qe}=m(()=>_(null,null,function*(){if(d.value)try{yield re.confirm("ç¡®å®šè¦åˆ é™¤å½“å‰é…ç½®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚","è­¦å‘Š",{type:"warning"});const a=yield q.deleteConfig(d.value.name);a.success?(n.success("é…ç½®åˆ é™¤æˆåŠŸ"),v.clearCurrentConfig(),L.value="",yield fe()):n.error(a.message)}catch(a){a!=="cancel"&&n.error("åˆ é™¤é…ç½®å¤±è´¥")}}),"deleteConfig"),{handler:We,loading:Xe}=m(()=>_(null,null,function*(){if(d.value)try{const a=yield q.exportConfig(d.value.name),e=window.URL.createObjectURL(a),i=document.createElement("a");i.href=e,i.download=`${d.value.name}_export.json`,i.click(),window.URL.revokeObjectURL(e),n.success("é…ç½®å¯¼å‡ºæˆåŠŸ")}catch(a){n.error("å¯¼å‡ºé…ç½®å¤±è´¥")}}),"exportConfig"),{handler:Ye,loading:Ze}=m(()=>_(null,null,function*(){if(!d.value){n.warning("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé…ç½®");return}try{yield re.confirm("è¯¥æ“ä½œä¼šå®Œå…¨è¦†ç›–ç°æœ‰é…ç½®ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ","è‡ªåŠ¨é…ç½®ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"});const a=d.value.filename||d.value.name,e=yield q.autoDetectFiles(a);if(e.success){n.success(e.message),yield v.selectConfig(a),yield pe();try{yield Ne(),n.success("è‡ªåŠ¨é…ç½®å·²ä¿å­˜")}catch(i){n.warning("è‡ªåŠ¨é…ç½®å®Œæˆï¼Œä½†ä¿å­˜å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ä¿å­˜"),console.error("è‡ªåŠ¨ä¿å­˜å¤±è´¥:",i)}}else n.error(e.message)}catch(a){a!=="cancel"&&n.error("è‡ªåŠ¨é…ç½®å¤±è´¥")}}),"autoConfig"),{handler:el,loading:ll}=m(()=>_(null,null,function*(){var e;if(!j.value){n.warning("è¯·é€‰æ‹©æ–‡ä»¶");return}const a=new FormData;a.append("config_file",j.value);try{const i=yield q.importConfig(a);i.success?(n.success(i.message),N.value=!1,j.value=null,(e=D.value)==null||e.clearFiles(),yield fe()):n.error(i.message)}catch(i){n.error("å¯¼å…¥é…ç½®å¤±è´¥")}}),"importConfig"),{handler:tl,loading:al}=m(()=>_(null,null,function*(){try{const a=yield q.saveGlobalConfig(R.value);a.success?(n.success("APIé…ç½®ä¿å­˜æˆåŠŸ"),k.value=!1,yield Re()):n.error(a.message)}catch(a){n.error("ä¿å­˜APIé…ç½®å¤±è´¥")}}),"saveApiConfig"),ol=()=>_(null,null,function*(){try{const a=yield Ol.getExtractFunctions();me.value=a}catch(a){console.error("åŠ è½½æå–å‡½æ•°å¤±è´¥:",a)}}),pe=()=>_(null,null,function*(){if(d.value)try{g.value={csv_files:d.value.csv_files||{},json_files:d.value.json_files||{},jar_files:d.value.jar_files||{}}}catch(a){console.error("åŠ è½½é…ç½®å†…å®¹å¤±è´¥:",a)}}),{handler:Ne,loading:nl}=m(()=>_(null,null,function*(){if(d.value)try{if(Object.keys(g.value.csv_files).length+Object.keys(g.value.json_files).length+Object.keys(g.value.jar_files).length===0){n.warning("è¯·è‡³å°‘é…ç½®ä¸€ä¸ªç¿»è¯‘æ–‡ä»¶");return}const e=De(se({},d.value),{csv_files:g.value.csv_files,json_files:g.value.json_files,jar_files:g.value.jar_files}),i=yield q.saveConfig(d.value.name,e);if(i.success){n.success("é…ç½®ä¿å­˜æˆåŠŸ");const x=d.value.filename||d.value.name;yield v.selectConfig(x),yield pe()}else n.error(i.message||"ä¿å­˜é…ç½®å¤±è´¥")}catch(a){console.error("ä¿å­˜é…ç½®å¤±è´¥:",a),n.error("ä¿å­˜é…ç½®å¤±è´¥")}}),"saveConfigContent"),sl=()=>{S.value.fields.push({name:"",function:""})},rl=a=>{S.value.fields.length>1&&(S.value.fields.splice(a,1),Te(()=>{var e;(e=O.value)==null||e.validateField("fields")}))},il=(a,e)=>{a.name.trim()&&Te(()=>{var i;(i=O.value)==null||i.validateField("fields")})},ul=a=>{H.value=!0,S.value={path:a.path,fields:Object.entries(a.fields).map(([e,i])=>({name:e,function:i}))},Z.value=!0},dl=a=>_(null,null,function*(){try{yield re.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªCSVæ–‡ä»¶é…ç½®å—ï¼Ÿ","åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),delete g.value.csv_files[a],n.success("CSVæ–‡ä»¶é…ç½®åˆ é™¤æˆåŠŸ")}catch(e){}}),fl=()=>_(null,null,function*(){if(O.value){try{yield O.value.validate()}catch(a){return}ce.value=!0;try{if(!H.value&&g.value.csv_files[S.value.path]){n.error("è¯¥æ–‡ä»¶è·¯å¾„å·²å­˜åœ¨");return}const a={};for(const e of S.value.fields)e.name.trim()&&e.function&&(a[e.name.trim()]=e.function);g.value.csv_files[S.value.path]=a,n.success(`CSVæ–‡ä»¶é…ç½®${H.value?"æ›´æ–°":"æ·»åŠ "}æˆåŠŸ`),setTimeout(()=>{(Object.keys(g.value.csv_files).length>0||Object.keys(g.value.json_files).length>0||Object.keys(g.value.jar_files).length>0)&&n({message:'åˆ«å¿˜äº†ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®ä¿å­˜åˆ°åç«¯ï¼',type:"warning",duration:3e3})},1e3),Se()}catch(a){n.error(`${H.value?"æ›´æ–°":"æ·»åŠ "}CSVæ–‡ä»¶é…ç½®å¤±è´¥`)}finally{ce.value=!1}}}),Se=()=>{var a;Z.value=!1,H.value=!1,S.value={path:"",fields:[{name:"",function:""}]},(a=O.value)==null||a.clearValidate()},$e=()=>{Se()},pl=a=>{M.value=!0,$.value={path:a.path,extract_function:a.extract_function,description:a.description||""},ee.value=!0},vl=a=>_(null,null,function*(){try{yield re.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªJSONæ–‡ä»¶é…ç½®å—ï¼Ÿ","åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),delete g.value.json_files[a],n.success("JSONæ–‡ä»¶é…ç½®åˆ é™¤æˆåŠŸ")}catch(e){}}),ml=()=>_(null,null,function*(){if(T.value){try{yield T.value.validate()}catch(a){return}ge.value=!0;try{if(!M.value&&g.value.json_files[$.value.path]){n.error("è¯¥æ–‡ä»¶è·¯å¾„å·²å­˜åœ¨");return}g.value.json_files[$.value.path]={extract_function:$.value.extract_function,description:$.value.description},n.success(`JSONæ–‡ä»¶é…ç½®${M.value?"æ›´æ–°":"æ·»åŠ "}æˆåŠŸ`),setTimeout(()=>{n({message:'åˆ«å¿˜äº†ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®ä¿å­˜åˆ°åç«¯ï¼',type:"warning",duration:3e3})},1e3),Ue()}catch(a){n.error(`${M.value?"æ›´æ–°":"æ·»åŠ "}JSONæ–‡ä»¶é…ç½®å¤±è´¥`)}finally{ge.value=!1}}}),Ue=()=>{var a;ee.value=!1,M.value=!1,$.value={path:"",extract_function:"",description:""},(a=T.value)==null||a.clearValidate()},Le=()=>{Ue()},cl=a=>{I.value=!0,C.value={path:a.path,extract_function:a.extract_function||"jar_extract",description:a.description||"",backup_suffix:a.backup_suffix||".backup",output_suffix:a.output_suffix||"_translated.jar"},le.value=!0},gl=a=>_(null,null,function*(){try{yield re.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªJARæ–‡ä»¶é…ç½®å—ï¼Ÿ","åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),delete g.value.jar_files[a],n.success("JARæ–‡ä»¶é…ç½®åˆ é™¤æˆåŠŸ")}catch(e){}}),_l=()=>_(null,null,function*(){if(z.value){try{yield z.value.validate()}catch(a){return}_e.value=!0;try{if(!I.value&&g.value.jar_files[C.value.path]){n.error("è¯¥æ–‡ä»¶è·¯å¾„å·²å­˜åœ¨");return}g.value.jar_files[C.value.path]={extract_function:C.value.extract_function||"jar_extract",description:C.value.description,backup_suffix:C.value.backup_suffix||".backup",output_suffix:C.value.output_suffix||"_translated.jar"},n.success(`JARæ–‡ä»¶é…ç½®${I.value?"æ›´æ–°":"æ·»åŠ "}æˆåŠŸ`),setTimeout(()=>{n({message:'åˆ«å¿˜äº†ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®ä¿å­˜åˆ°åç«¯ï¼',type:"warning",duration:3e3})},1e3),Oe()}catch(a){n.error(`${I.value?"æ›´æ–°":"æ·»åŠ "}JARæ–‡ä»¶é…ç½®å¤±è´¥`)}finally{_e.value=!1}}}),Oe=()=>{var a;le.value=!1,I.value=!1,C.value={path:"",extract_function:"jar_extract",description:"",backup_suffix:".backup",output_suffix:"_translated.jar"},(a=z.value)==null||a.clearValidate()},he=()=>{Oe()},yl=a=>{j.value=a.raw},wl=()=>_(null,null,function*(){try{const a=yield q.getGlobalConfig();a.success&&(R.value=se({},a.config))}catch(a){console.error("åŠ è½½APIé…ç½®å¤±è´¥:",a)}}),Re=()=>_(null,null,function*(){try{const a=yield q.checkApiConfig();a.success&&(de.value=a)}catch(a){console.error("æ£€æŸ¥APIçŠ¶æ€å¤±è´¥:",a)}}),Pe=a=>_(null,null,function*(){if(a==="__create_new__"){L.value="",E.value=!0;return}if(a&&a!=="__create_new__"){ye.value=!0;try{const e=yield v.selectConfig(a);e.success?(n.success(e.message),yield pe()):(n.error(e.message),L.value="")}catch(e){n.error("é€‰æ‹©é…ç½®å¤±è´¥"),L.value=""}finally{ye.value=!1}}});return Ll(()=>_(null,null,function*(){try{yield Promise.all([fe(),ol(),wl(),Re()]),yield v.getCurrentConfig(),d.value&&(L.value=d.value.filename||d.value.name,yield pe())}catch(a){console.error("åˆå§‹åŒ–å¤±è´¥:",a),n.error("é¡µé¢åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•")}})),(a,e)=>{const i=y("el-option"),x=y("el-select"),te=y("el-col"),u=y("el-button"),G=y("el-space"),Cl=y("el-row"),K=y("el-card"),ae=y("el-descriptions-item"),bl=y("el-descriptions"),oe=y("el-icon"),U=y("el-table-column"),ve=y("el-tag"),je=y("el-table"),Fe=y("el-tab-pane"),Vl=y("el-tabs"),xl=y("el-alert"),F=y("el-input"),V=y("el-form-item"),ne=y("el-form"),Q=y("el-dialog"),kl=y("el-input-number"),jl=y("el-upload");return p(),P("div",hl,[l(K,{class:"header-card"},{header:t(()=>e[34]||(e[34]=[s("div",{class:"card-header"},[s("span",null,"âš™ï¸ é…ç½®ç®¡ç†"),s("p",null,"é€‰æ‹©æˆ–åˆ›å»ºç¿»è¯‘é…ç½®æ–‡ä»¶")],-1)])),default:t(()=>[s("div",Rl,[l(Cl,{gutter:16,align:"middle"},{default:t(()=>[l(te,{span:12},{default:t(()=>[l(x,{modelValue:L.value,"onUpdate:modelValue":e[0]||(e[0]=o=>L.value=o),placeholder:"è¯·é€‰æ‹©é…ç½®...",style:{width:"100%"},onChange:Pe,loading:ye.value},{default:t(()=>[l(i,{key:"create-new",label:"+ åˆ›å»ºæ–°é…ç½®",value:"__create_new__"}),(p(!0),P(X,null,Y(we.value,o=>(p(),A(i,{key:o.filename,label:`${o.name} (${o.filename})`,value:o.filename},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),d.value?(p(),A(te,{key:0,span:12},{default:t(()=>[l(G,null,{default:t(()=>[l(u,{type:"warning",onClick:b(Ye),loading:b(Ze)},{default:t(()=>e[35]||(e[35]=[r(" è‡ªåŠ¨é…ç½® ")])),_:1,__:[35]},8,["onClick","loading"]),l(u,{type:"info",onClick:b(We),loading:b(Xe)},{default:t(()=>e[36]||(e[36]=[r(" å¯¼å‡ºé…ç½® ")])),_:1,__:[36]},8,["onClick","loading"]),l(u,{type:"info",onClick:e[1]||(e[1]=o=>N.value=!0)},{default:t(()=>e[37]||(e[37]=[r(" å¯¼å…¥é…ç½® ")])),_:1,__:[37]}),l(u,{type:"danger",onClick:b(Ke),loading:b(Qe)},{default:t(()=>e[38]||(e[38]=[r(" åˆ é™¤é…ç½® ")])),_:1,__:[38]},8,["onClick","loading"])]),_:1})]),_:1})):ie("",!0)]),_:1})])]),_:1}),d.value?(p(),A(K,{key:0,class:"config-info-card"},{header:t(()=>e[39]||(e[39]=[s("span",null,"ğŸ“‹ å½“å‰é…ç½®ä¿¡æ¯",-1)])),default:t(()=>[l(bl,{column:2,border:""},{default:t(()=>[l(ae,{label:"é…ç½®åç§°"},{default:t(()=>[r(J(d.value.name),1)]),_:1}),l(ae,{label:"æ¨¡ç»„åç§°"},{default:t(()=>[r(J(d.value.mod_name),1)]),_:1}),l(ae,{label:"æ¨¡ç»„è·¯å¾„"},{default:t(()=>[r(J(d.value.mod_path),1)]),_:1}),l(ae,{label:"å·¥ä½œç›®å½•"},{default:t(()=>[r(J(d.value.work_directory),1)]),_:1}),l(ae,{label:"æè¿°",span:2},{default:t(()=>[r(J(d.value.description||"æ— æè¿°"),1)]),_:1})]),_:1})]),_:1})):ie("",!0),!d.value&&we.value.length===0?(p(),A(K,{key:1,class:"empty-config-card"},{default:t(()=>[s("div",Pl,[l(oe,null,{default:t(()=>[l(b(ue))]),_:1}),e[41]||(e[41]=s("h3",null,"æš‚æ— é…ç½®æ–‡ä»¶",-1)),e[42]||(e[42]=s("p",null,"è¯·å…ˆåˆ›å»ºä¸€ä¸ªç¿»è¯‘é…ç½®æ–‡ä»¶å¼€å§‹ä½¿ç”¨",-1)),l(u,{type:"primary",onClick:e[2]||(e[2]=o=>E.value=!0),size:"large"},{default:t(()=>e[40]||(e[40]=[r(" åˆ›å»ºæ–°é…ç½® ")])),_:1,__:[40]})])]),_:1})):!d.value&&we.value.length>0?(p(),A(K,{key:2,class:"empty-config-card"},{default:t(()=>[s("div",El,[l(oe,null,{default:t(()=>[l(b(ue))]),_:1}),e[43]||(e[43]=s("h3",null,"è¯·é€‰æ‹©ä¸€ä¸ªé…ç½®æ–‡ä»¶",-1)),e[44]||(e[44]=s("p",null,"ä»ä¸Šæ–¹ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ä¸€ä¸ªå·²æœ‰çš„é…ç½®æ–‡ä»¶",-1))])]),_:1})):ie("",!0),d.value?(p(),A(K,{key:3,class:"config-edit-card"},{header:t(()=>[s("div",Bl,[e[46]||(e[46]=s("span",null,"ğŸ“ ç¼–è¾‘é…ç½®æ–‡ä»¶",-1)),l(u,{type:"primary",onClick:b(Ne),loading:b(nl)},{default:t(()=>e[45]||(e[45]=[r(" ä¿å­˜é…ç½® ")])),_:1,__:[45]},8,["onClick","loading"])])]),default:t(()=>[l(Vl,{modelValue:Ae.value,"onUpdate:modelValue":e[6]||(e[6]=o=>Ae.value=o)},{default:t(()=>[l(Fe,{label:"CSVæ–‡ä»¶",name:"csv"},{default:t(()=>[s("div",Dl,[s("div",Tl,[s("h4",null,[e[47]||(e[47]=r("CSVæ–‡ä»¶é…ç½® ")),s("span",ql,"("+J(Ve.value.length)+" ä¸ªæ–‡ä»¶)",1)]),l(u,{type:"primary",onClick:e[3]||(e[3]=o=>Z.value=!0)},{default:t(()=>e[48]||(e[48]=[r(" æ·»åŠ CSVæ–‡ä»¶ ")])),_:1,__:[48]})]),Ve.value.length>0?(p(),A(je,{key:0,data:Ve.value,stripe:""},{default:t(()=>[l(U,{prop:"path",label:"æ–‡ä»¶è·¯å¾„","min-width":"200","show-overflow-tooltip":""}),l(U,{label:"å­—æ®µæ•°é‡",width:"100"},{default:t(o=>[l(ve,{type:"info",size:"small"},{default:t(()=>[r(J(Object.keys(o.row.fields).length)+" ä¸ªå­—æ®µ ",1)]),_:2},1024)]),_:1}),l(U,{label:"é…ç½®å­—æ®µ","min-width":"300"},{default:t(o=>[(p(!0),P(X,null,Y(o.row.fields,(w,B)=>(p(),A(ve,{key:B,type:"info",size:"small"},{default:t(()=>[r(J(B)+": "+J(Ce.value[w]||w),1)]),_:2},1024))),128))]),_:1}),l(U,{label:"æ“ä½œ",width:"150",fixed:"right"},{default:t(o=>[l(u,{size:"small",onClick:w=>ul(o.row)},{default:t(()=>e[49]||(e[49]=[r("ç¼–è¾‘")])),_:2,__:[49]},1032,["onClick"]),l(u,{size:"small",type:"danger",onClick:w=>dl(o.row.path)},{default:t(()=>e[50]||(e[50]=[r("åˆ é™¤")])),_:2,__:[50]},1032,["onClick"])]),_:1})]),_:1},8,["data"])):(p(),P("div",zl,[l(oe,null,{default:t(()=>[l(b(ue))]),_:1}),e[51]||(e[51]=s("p",null,"æš‚æœªé…ç½®CSVæ–‡ä»¶",-1)),e[52]||(e[52]=s("p",null,'ç‚¹å‡»"æ·»åŠ CSVæ–‡ä»¶"æŒ‰é’®å¼€å§‹é…ç½®',-1))]))])]),_:1}),l(Fe,{label:"JSONæ–‡ä»¶",name:"json"},{default:t(()=>[s("div",Hl,[s("div",Ml,[s("h4",null,[e[53]||(e[53]=r("JSONæ–‡ä»¶é…ç½® ")),s("span",Il,"("+J(xe.value.length)+" ä¸ªæ–‡ä»¶)",1)]),l(u,{type:"primary",onClick:e[4]||(e[4]=o=>ee.value=!0)},{default:t(()=>e[54]||(e[54]=[r(" æ·»åŠ JSONæ–‡ä»¶ ")])),_:1,__:[54]})]),xe.value.length>0?(p(),A(je,{key:0,data:xe.value,stripe:""},{default:t(()=>[l(U,{prop:"path",label:"æ–‡ä»¶è·¯å¾„","min-width":"200","show-overflow-tooltip":""}),l(U,{label:"å¤„ç†å‡½æ•°",width:"200"},{default:t(o=>[l(ve,{type:"success"},{default:t(()=>[r(J(Ce.value[o.row.extract_function]||o.row.extract_function),1)]),_:2},1024)]),_:1}),l(U,{prop:"description",label:"æè¿°","show-overflow-tooltip":""}),l(U,{label:"æ“ä½œ",width:"150",fixed:"right"},{default:t(o=>[l(u,{size:"small",onClick:w=>pl(o.row)},{default:t(()=>e[55]||(e[55]=[r("ç¼–è¾‘")])),_:2,__:[55]},1032,["onClick"]),l(u,{size:"small",type:"danger",onClick:w=>vl(o.row.path)},{default:t(()=>e[56]||(e[56]=[r("åˆ é™¤")])),_:2,__:[56]},1032,["onClick"])]),_:1})]),_:1},8,["data"])):(p(),P("div",Gl,[l(oe,null,{default:t(()=>[l(b(ue))]),_:1}),e[57]||(e[57]=s("p",null,"æš‚æœªé…ç½®JSONæ–‡ä»¶",-1)),e[58]||(e[58]=s("p",null,'ç‚¹å‡»"æ·»åŠ JSONæ–‡ä»¶"æŒ‰é’®å¼€å§‹é…ç½®',-1))]))])]),_:1}),l(Fe,{label:"JARæ–‡ä»¶",name:"jar"},{default:t(()=>[s("div",Kl,[s("div",Ql,[s("h4",null,[e[59]||(e[59]=r("JARæ–‡ä»¶é…ç½® ")),s("span",Wl,"("+J(ke.value.length)+" ä¸ªæ–‡ä»¶)",1)]),l(u,{type:"primary",onClick:e[5]||(e[5]=o=>le.value=!0)},{default:t(()=>e[60]||(e[60]=[r(" æ·»åŠ JARæ–‡ä»¶ ")])),_:1,__:[60]})]),ke.value.length>0?(p(),A(je,{key:0,data:ke.value,stripe:""},{default:t(()=>[l(U,{prop:"path",label:"æ–‡ä»¶è·¯å¾„","min-width":"200","show-overflow-tooltip":""}),l(U,{label:"å¤„ç†å‡½æ•°",width:"200"},{default:t(o=>[l(ve,{type:"success"},{default:t(()=>[r(J(Ce.value[o.row.extract_function]||o.row.extract_function),1)]),_:2},1024)]),_:1}),l(U,{prop:"description",label:"æè¿°","show-overflow-tooltip":""}),l(U,{label:"é…ç½®",width:"200"},{default:t(o=>[s("div",Xl,[r(" å¤‡ä»½: "+J(o.row.backup_suffix||".backup"),1),e[61]||(e[61]=s("br",null,null,-1)),r(" è¾“å‡º: "+J(o.row.output_suffix||"_translated.jar"),1)])]),_:1}),l(U,{label:"æ“ä½œ",width:"150",fixed:"right"},{default:t(o=>[l(u,{size:"small",onClick:w=>cl(o.row)},{default:t(()=>e[62]||(e[62]=[r("ç¼–è¾‘")])),_:2,__:[62]},1032,["onClick"]),l(u,{size:"small",type:"danger",onClick:w=>gl(o.row.path)},{default:t(()=>e[63]||(e[63]=[r("åˆ é™¤")])),_:2,__:[63]},1032,["onClick"])]),_:1})]),_:1},8,["data"])):(p(),P("div",Yl,[l(oe,null,{default:t(()=>[l(b(ue))]),_:1}),e[64]||(e[64]=s("p",null,"æš‚æœªé…ç½®JARæ–‡ä»¶",-1)),e[65]||(e[65]=s("p",null,'ç‚¹å‡»"æ·»åŠ JARæ–‡ä»¶"æŒ‰é’®å¼€å§‹é…ç½®',-1))]))])]),_:1})]),_:1},8,["modelValue"])]),_:1})):ie("",!0),l(K,{class:"api-status-card"},{header:t(()=>e[66]||(e[66]=[s("span",null,"ğŸ”‘ APIé…ç½®çŠ¶æ€",-1)])),default:t(()=>[de.value?(p(),A(xl,{key:0,title:de.value.message,type:de.value.is_valid?"success":"error",closable:!1,style:{"margin-bottom":"16px"}},null,8,["title","type"])):ie("",!0),l(u,{type:"primary",onClick:e[7]||(e[7]=o=>k.value=!0)},{default:t(()=>e[67]||(e[67]=[r(" é…ç½®APIè®¾ç½® ")])),_:1,__:[67]})]),_:1}),l(Q,{modelValue:E.value,"onUpdate:modelValue":e[13]||(e[13]=o=>E.value=o),title:"æ–°å»ºé…ç½®",width:"500px"},{footer:t(()=>[l(u,{onClick:e[12]||(e[12]=o=>E.value=!1)},{default:t(()=>e[68]||(e[68]=[r("å–æ¶ˆ")])),_:1,__:[68]}),l(u,{type:"primary",onClick:b(Ie),loading:b(Ge)},{default:t(()=>e[69]||(e[69]=[r(" åˆ›å»º ")])),_:1,__:[69]},8,["onClick","loading"])]),default:t(()=>[l(ne,{model:h.value,"label-width":"100px"},{default:t(()=>[l(V,{label:"é…ç½®åç§°",required:""},{default:t(()=>[l(F,{modelValue:h.value.configName,"onUpdate:modelValue":e[8]||(e[8]=o=>h.value.configName=o),placeholder:"ä¸å«æ‰©å±•å"},null,8,["modelValue"])]),_:1}),l(V,{label:"æ¨¡ç»„åç§°",required:""},{default:t(()=>[l(F,{modelValue:h.value.modName,"onUpdate:modelValue":e[9]||(e[9]=o=>h.value.modName=o)},null,8,["modelValue"])]),_:1}),l(V,{label:"æ¨¡ç»„è·¯å¾„",required:""},{default:t(()=>[l(F,{modelValue:h.value.modPath,"onUpdate:modelValue":e[10]||(e[10]=o=>h.value.modPath=o)},null,8,["modelValue"])]),_:1}),l(V,{label:"æè¿°"},{default:t(()=>[l(F,{modelValue:h.value.description,"onUpdate:modelValue":e[11]||(e[11]=o=>h.value.description=o),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(Q,{modelValue:k.value,"onUpdate:modelValue":e[19]||(e[19]=o=>k.value=o),title:"APIé…ç½®",width:"600px"},{footer:t(()=>[l(u,{onClick:e[18]||(e[18]=o=>k.value=!1)},{default:t(()=>e[71]||(e[71]=[r("å–æ¶ˆ")])),_:1,__:[71]}),l(u,{type:"primary",onClick:b(tl),loading:b(al)},{default:t(()=>e[72]||(e[72]=[r(" ä¿å­˜ ")])),_:1,__:[72]},8,["onClick","loading"])]),default:t(()=>[l(ne,{model:R.value,"label-width":"120px"},{default:t(()=>[l(V,{label:"APIå¯†é’¥",required:""},{default:t(()=>[l(F,{modelValue:R.value.api_key,"onUpdate:modelValue":e[14]||(e[14]=o=>R.value.api_key=o),type:"password","show-password":"",placeholder:"è¯·è¾“å…¥OpenAI APIå¯†é’¥"},null,8,["modelValue"])]),_:1}),l(V,{label:"Base URL"},{default:t(()=>[l(F,{modelValue:R.value.base_url,"onUpdate:modelValue":e[15]||(e[15]=o=>R.value.base_url=o),placeholder:"https://api.openai.com/v1"},null,8,["modelValue"])]),_:1}),l(V,{label:"æ¨¡å‹"},{default:t(()=>[l(F,{modelValue:R.value.model,"onUpdate:modelValue":e[16]||(e[16]=o=>R.value.model=o),placeholder:"gpt-3.5-turbo"},null,8,["modelValue"])]),_:1}),l(V,{label:"æœ€å¤§ä»¤ç‰Œæ•°"},{default:t(()=>[l(kl,{modelValue:R.value.max_tokens,"onUpdate:modelValue":e[17]||(e[17]=o=>R.value.max_tokens=o),min:100,max:1e4,step:100,placeholder:"2000",style:{width:"100%"}},null,8,["modelValue"]),e[70]||(e[70]=s("div",{class:"form-tip"}," æ§åˆ¶LLMå“åº”çš„æœ€å¤§é•¿åº¦ï¼Œä¸€èˆ¬è®¾ç½®ä¸º1000-4000ä¹‹é—´ ",-1))]),_:1,__:[70]})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(Q,{modelValue:N.value,"onUpdate:modelValue":e[21]||(e[21]=o=>N.value=o),title:"å¯¼å…¥é…ç½®",width:"500px"},{footer:t(()=>[l(u,{onClick:e[20]||(e[20]=o=>N.value=!1)},{default:t(()=>e[75]||(e[75]=[r("å–æ¶ˆ")])),_:1,__:[75]}),l(u,{type:"primary",onClick:b(el),loading:b(ll)},{default:t(()=>e[76]||(e[76]=[r(" å¯¼å…¥ ")])),_:1,__:[76]},8,["onClick","loading"])]),default:t(()=>[l(jl,{ref_key:"uploadRef",ref:D,"auto-upload":!1,limit:1,accept:".json",onChange:yl},{tip:t(()=>e[74]||(e[74]=[s("div",{class:"el-upload__tip"}," åªèƒ½ä¸Šä¼ JSONæ ¼å¼çš„é…ç½®æ–‡ä»¶ ",-1)])),default:t(()=>[l(u,{type:"primary"},{default:t(()=>e[73]||(e[73]=[r("é€‰æ‹©JSONé…ç½®æ–‡ä»¶")])),_:1,__:[73]})]),_:1},512)]),_:1},8,["modelValue"]),l(Q,{modelValue:Z.value,"onUpdate:modelValue":e[23]||(e[23]=o=>Z.value=o),title:H.value?"ç¼–è¾‘CSVæ–‡ä»¶":"æ·»åŠ CSVæ–‡ä»¶",width:"800px","before-close":$e},{footer:t(()=>[l(u,{onClick:$e},{default:t(()=>e[81]||(e[81]=[r("å–æ¶ˆ")])),_:1,__:[81]}),l(u,{type:"primary",onClick:fl,loading:ce.value},{default:t(()=>e[82]||(e[82]=[r(" ç¡®å®š ")])),_:1,__:[82]},8,["loading"])]),default:t(()=>[l(ne,{ref_key:"csvFormRef",ref:O,model:S.value,rules:ze,"label-width":"100px"},{default:t(()=>[l(V,{label:"æ–‡ä»¶è·¯å¾„",prop:"path"},{default:t(()=>[l(F,{modelValue:S.value.path,"onUpdate:modelValue":e[22]||(e[22]=o=>S.value.path=o),placeholder:"ä¾‹å¦‚: ./data/campaign/abilities.csv",disabled:H.value},null,8,["modelValue","disabled"]),e[77]||(e[77]=s("div",{class:"form-tip"},"æ–‡ä»¶è·¯å¾„ç›¸å¯¹äºæ¨¡ç»„æ ¹ç›®å½•",-1))]),_:1,__:[77]}),l(V,{label:"å­—æ®µé…ç½®",prop:"fields"},{default:t(()=>[s("div",Zl,[(p(!0),P(X,null,Y(S.value.fields,(o,w)=>(p(),P("div",{key:w,class:"field-config-item"},[l(F,{modelValue:o.name,"onUpdate:modelValue":B=>o.name=B,placeholder:"å­—æ®µå",style:{width:"200px","margin-right":"12px"},onBlur:B=>il(o,w)},null,8,["modelValue","onUpdate:modelValue","onBlur"]),l(x,{modelValue:o.function,"onUpdate:modelValue":B=>o.function=B,placeholder:"é€‰æ‹©å¤„ç†å‡½æ•°",style:{width:"300px","margin-right":"12px"},filterable:""},{default:t(()=>[(p(!0),P(X,null,Y(be("csv"),(B,Je)=>(p(),A(i,{key:Je,label:`${Je} - ${B}`,value:Je},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(u,{type:"danger",size:"small",onClick:B=>rl(w),disabled:S.value.fields.length<=1},{default:t(()=>e[78]||(e[78]=[r(" åˆ é™¤ ")])),_:2,__:[78]},1032,["onClick","disabled"])]))),128)),l(u,{type:"primary",onClick:sl,icon:"Plus"},{default:t(()=>e[79]||(e[79]=[r(" æ·»åŠ å­—æ®µ ")])),_:1,__:[79]}),e[80]||(e[80]=s("div",{class:"form-tip"},"è‡³å°‘éœ€è¦é…ç½®ä¸€ä¸ªå­—æ®µ",-1))])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(Q,{modelValue:ee.value,"onUpdate:modelValue":e[27]||(e[27]=o=>ee.value=o),title:M.value?"ç¼–è¾‘JSONæ–‡ä»¶":"æ·»åŠ JSONæ–‡ä»¶",width:"600px","before-close":Le},{footer:t(()=>[l(u,{onClick:Le},{default:t(()=>e[85]||(e[85]=[r("å–æ¶ˆ")])),_:1,__:[85]}),l(u,{type:"primary",onClick:ml,loading:ge.value},{default:t(()=>e[86]||(e[86]=[r(" ç¡®å®š ")])),_:1,__:[86]},8,["loading"])]),default:t(()=>[l(ne,{ref_key:"jsonFormRef",ref:T,model:$.value,rules:He,"label-width":"100px"},{default:t(()=>[l(V,{label:"æ–‡ä»¶è·¯å¾„",prop:"path"},{default:t(()=>[l(F,{modelValue:$.value.path,"onUpdate:modelValue":e[24]||(e[24]=o=>$.value.path=o),placeholder:"ä¾‹å¦‚: ./data/strings/strings.json",disabled:M.value},null,8,["modelValue","disabled"]),e[83]||(e[83]=s("div",{class:"form-tip"},"JSONæ–‡ä»¶è·¯å¾„ç›¸å¯¹äºæ¨¡ç»„æ ¹ç›®å½•",-1))]),_:1,__:[83]}),l(V,{label:"å¤„ç†å‡½æ•°",prop:"extract_function"},{default:t(()=>[l(x,{modelValue:$.value.extract_function,"onUpdate:modelValue":e[25]||(e[25]=o=>$.value.extract_function=o),style:{width:"100%"},filterable:""},{default:t(()=>[(p(!0),P(X,null,Y(be("json"),(o,w)=>(p(),A(i,{key:w,label:`${w} - ${o}`,value:w},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e[84]||(e[84]=s("div",{class:"form-tip"},"é€‰æ‹©é€‚åˆçš„JSONè§£æå‡½æ•°",-1))]),_:1,__:[84]}),l(V,{label:"æè¿°"},{default:t(()=>[l(F,{modelValue:$.value.description,"onUpdate:modelValue":e[26]||(e[26]=o=>$.value.description=o),type:"textarea",placeholder:"æ–‡ä»¶æè¿°ï¼ˆå¯é€‰ï¼‰",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(Q,{modelValue:le.value,"onUpdate:modelValue":e[33]||(e[33]=o=>le.value=o),title:I.value?"ç¼–è¾‘JARæ–‡ä»¶":"æ·»åŠ JARæ–‡ä»¶",width:"600px","before-close":he},{footer:t(()=>[l(u,{onClick:he},{default:t(()=>e[91]||(e[91]=[r("å–æ¶ˆ")])),_:1,__:[91]}),l(u,{type:"primary",onClick:_l,loading:_e.value},{default:t(()=>e[92]||(e[92]=[r(" ç¡®å®š ")])),_:1,__:[92]},8,["loading"])]),default:t(()=>[l(ne,{ref_key:"jarFormRef",ref:z,model:C.value,rules:Me,"label-width":"100px"},{default:t(()=>[l(V,{label:"æ–‡ä»¶è·¯å¾„",prop:"path"},{default:t(()=>[l(F,{modelValue:C.value.path,"onUpdate:modelValue":e[28]||(e[28]=o=>C.value.path=o),placeholder:"ä¾‹å¦‚: ./jars/IndEvo.jar",disabled:I.value},null,8,["modelValue","disabled"]),e[87]||(e[87]=s("div",{class:"form-tip"},"JARæ–‡ä»¶è·¯å¾„ç›¸å¯¹äºæ¨¡ç»„æ ¹ç›®å½•",-1))]),_:1,__:[87]}),l(V,{label:"å¤„ç†å‡½æ•°",prop:"extract_function"},{default:t(()=>[l(x,{modelValue:C.value.extract_function,"onUpdate:modelValue":e[29]||(e[29]=o=>C.value.extract_function=o),style:{width:"100%"},filterable:""},{default:t(()=>[(p(!0),P(X,null,Y(be("jar"),(o,w)=>(p(),A(i,{key:w,label:`${w} - ${o}`,value:w},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e[88]||(e[88]=s("div",{class:"form-tip"},"é€‰æ‹©é€‚åˆçš„JARæ–‡ä»¶å¤„ç†å‡½æ•°",-1))]),_:1,__:[88]}),l(V,{label:"æè¿°"},{default:t(()=>[l(F,{modelValue:C.value.description,"onUpdate:modelValue":e[30]||(e[30]=o=>C.value.description=o),type:"textarea",placeholder:"æ–‡ä»¶æè¿°ï¼ˆå¯é€‰ï¼‰",rows:3},null,8,["modelValue"])]),_:1}),l(V,{label:"å¤‡ä»½åç¼€"},{default:t(()=>[l(F,{modelValue:C.value.backup_suffix,"onUpdate:modelValue":e[31]||(e[31]=o=>C.value.backup_suffix=o),placeholder:".backup"},null,8,["modelValue"]),e[89]||(e[89]=s("div",{class:"form-tip"},"åŸæ–‡ä»¶å¤‡ä»½æ—¶çš„åç¼€å",-1))]),_:1,__:[89]}),l(V,{label:"è¾“å‡ºåç¼€"},{default:t(()=>[l(F,{modelValue:C.value.output_suffix,"onUpdate:modelValue":e[32]||(e[32]=o=>C.value.output_suffix=o),placeholder:"_translated.jar"},null,8,["modelValue"]),e[90]||(e[90]=s("div",{class:"form-tip"},"ç¿»è¯‘åæ–‡ä»¶çš„åç¼€å",-1))]),_:1,__:[90]})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},at=$l(et,[["__scopeId","data-v-eff7950d"]]);export{at as default};
