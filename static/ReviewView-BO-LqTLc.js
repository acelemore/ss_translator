var He=Object.defineProperty,qe=Object.defineProperties;var Ne=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var _e=(C,g,u)=>g in C?He(C,g,{enumerable:!0,configurable:!0,writable:!0,value:u}):C[g]=u,ge=(C,g)=>{for(var u in g||(g={}))Je.call(g,u)&&_e(C,u,g[u]);if(ve)for(var u of ve(g))Ge.call(g,u)&&_e(C,u,g[u]);return C},fe=(C,g)=>qe(C,Ne(g));var m=(C,g,u)=>new Promise(($,p)=>{var j=y=>{try{w(u.next(y))}catch(b){p(b)}},A=y=>{try{w(u.throw(y))}catch(b){p(b)}},w=y=>y.done?$(y.value):Promise.resolve(y.value).then(j,A);w((u=u.apply(C,g)).next())});import{_ as We,u as Ke,r as _,s as he,c as G,o as Xe,d as v,e as c,f as n,w as s,l as se,j as L,m as d,h as F,i as o,B as ye,t as f,F as re,k as ie,T as Ye,p as ue,E as i,b as E,C as Ze,A as we,g as W}from"./index-jGo40FSK.js";const et={class:"review-view"},tt={key:0,class:"empty-state"},at={key:1},nt={key:0,class:"files-section"},lt={class:"files-header"},ot={class:"header-actions"},st={class:"file-search-container"},rt={key:0,class:"search-stats"},it={key:0,class:"empty-state"},ut={key:1,class:"empty-state"},ct={key:2,class:"translation-files"},dt={class:"file-info"},pt={class:"file-actions"},vt={key:1,class:"review-section"},_t={class:"review-header"},gt={class:"review-stats"},ft={class:"filter-actions"},ht={class:"filter-row"},yt={class:"action-row"},wt={class:"action-group"},xt={class:"action-group"},Ct={class:"translations-container"},mt={class:"translation-header"},kt={class:"item-status"},Tt={class:"item-number"},Lt={class:"translation-content"},bt={class:"content-row"},Mt={class:"content-section"},Vt=["innerHTML"],At={class:"content-row"},St={class:"content-section"},$t=["innerHTML"],zt={key:1},Bt={class:"content-row"},Ft={class:"content-section"},jt={key:0,class:"preview-text"},Pt=["innerHTML"],Rt={key:0,class:"context-info"},Et={key:1,class:"llm-reason"},Ut={class:"translation-actions"},It={key:2,class:"suggestions"},Ot={class:"suggestion-list"},Qt={class:"pagination-container"},Dt={__name:"ReviewView",setup(C){const g=Ke(),u=_([]),$=_(null),p=_([]),j=_(""),A=_(""),w=_("all"),y=_("all"),b=_("all"),U=_(1),I=_(50),D=_(!1),K=_(!1),X=_(!1),Y=_(!1),Z=_(!1),ee=_({}),te=_(!1),P=_(new Set);_(0);const O=()=>{U.value=1},xe=e=>{U.value=e;const t=document.querySelector(".translations-container");t&&t.scrollIntoView({behavior:"smooth",block:"start"})};he(P,e=>{e.size>0&&e.size%5===0&&Pe()},{deep:!0});const H=G(()=>{if(!A.value)return u.value;const e=A.value.toLowerCase();return u.value.filter(t=>t.path.toLowerCase().includes(e))}),k=G(()=>{let e=p.value;if(j.value){const t=j.value.toLowerCase(),l=ce(t);e=e.filter(r=>{const x=ae(r.original_text).toLowerCase(),M=r.translation?ae(r.translation).toLowerCase():"",B=r.approved_text?ae(r.approved_text).toLowerCase():"";return r.original_text.toLowerCase().includes(t)||r.translation&&r.translation.toLowerCase().includes(t)||r.approved_text&&r.approved_text.toLowerCase().includes(t)||r.context&&r.context.toLowerCase().includes(t)||r.original_text.toLowerCase().includes(l)||r.translation&&r.translation.toLowerCase().includes(l)||r.approved_text&&r.approved_text.toLowerCase().includes(l)||x.includes(t)||M.includes(t)||B.includes(t)})}return w.value!=="all"&&(e=e.filter(t=>w.value==="approved"?t.approved===!0:w.value==="unapproved"?t.approved!==!0:w.value==="translated"?t.translation&&t.translation.trim()!=="":w.value==="empty"?!t.translation||t.translation.trim()==="":!0)),y.value!=="all"&&(e=e.filter(t=>y.value==="suggested"?t.is_suggested_to_translate===!0:y.value==="not_suggested"?t.is_suggested_to_translate===!1:!0)),b.value!=="all"&&(e=e.filter(t=>b.value==="word_only"?t.original_text&&!t.original_text.includes(" "):b.value==="quote_mismatch"?q(t):!0)),e}),Ce=G(()=>{const e=(U.value-1)*I.value,t=e+I.value;return k.value.slice(e,t)}),me=()=>p.value.filter(e=>q(e)).length,ke=()=>p.value.filter(e=>e.approved===!0).length,Te=()=>p.value.filter(e=>e.approved!==!0).length,Q=()=>m(null,null,function*(){try{const e=yield ue.getTranslations();e.error?i.error(e.error):u.value=e}catch(e){i.error("åŠ è½½ç¿»è¯‘æ–‡ä»¶å¤±è´¥")}}),Le=e=>m(null,null,function*(){try{$.value=e;const t=yield ue.getTranslationReview(e.path);t.error?i.error(t.error):(p.value=t.translations.map(l=>fe(ge({},l),{suggestions:[]})),U.value=1,w.value="unapproved")}catch(t){i.error("åŠ è½½ç¿»è¯‘å†…å®¹å¤±è´¥")}}),be=()=>m(null,null,function*(){if(P.value.size>0)try{yield R(),i.success("è¿”å›æ—¶è‡ªåŠ¨ä¿å­˜æˆåŠŸ")}catch(e){i.error("è‡ªåŠ¨ä¿å­˜å¤±è´¥ï¼Œä½†ä»ç„¶è¿”å›æ–‡ä»¶åˆ—è¡¨"),console.error("è¿”å›æ—¶è‡ªåŠ¨ä¿å­˜å¤±è´¥:",e)}$.value=null,p.value=[],P.value.clear(),w.value="all",y.value="all",b.value="all",j.value="",A.value="",Q()}),z=e=>{const t=p.value.findIndex(l=>l===e);t!==-1&&(P.value.add(t),e.approved_text&&e.approved_text.trim()!==""&&(e.approved=!0))},Me=e=>{e.approved_text=e.translation||"",z(e)},Ve=e=>{e.approved_text="",e.approved=!1,z(e)},Ae=e=>{e.approved_text=e.original_text||"",e.approved=!0,z(e)},Se=e=>p.value.findIndex(t=>t===e),ae=e=>e&&e.replace(/[\u0000-\u001f\u007f-\u009f]/g,t=>`\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}`),ne=e=>e&&e.replace(/[\u0000-\u001f\u007f-\u009f]/g,t=>`<span class="unicode-escape">\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}</span>`),ce=e=>e&&e.replace(/\\u([0-9a-fA-F]{4})/g,(t,l)=>String.fromCharCode(parseInt(l,16))),de=e=>{if(!e)return!1;const t=(e.match(/"/g)||[]).length,l=(e.match(/"/g)||[]).length,r=(e.match(/"/g)||[]).length,x=(e.match(/ã€Œ/g)||[]).length,M=(e.match(/ã€/g)||[]).length,B=(e.match(/ã€/g)||[]).length,S=(e.match(/ã€/g)||[]).length;return[t,l,r,x,M,B,S].some(h=>h%2!==0)},q=e=>e.approved_text&&e.approved_text.trim()!==""?de(e.approved_text):e.translation&&e.translation.trim()!==""?de(e.translation):!1,$e=e=>{const t=ce(e.approved_text);t!==e.approved_text&&(e.approved_text=t),z(e)},ze=()=>m(null,null,function*(){try{const e=k.value.length;yield E.confirm(`ç¡®å®šè¦å°†å½“å‰è¿‡æ»¤çš„ ${e} æ¡ç¿»è¯‘å…¨éƒ¨åº”ç”¨LLMç¿»è¯‘ç»“æœå—ï¼Ÿè¿™å°†è¦†ç›–å·²æœ‰çš„å®¡æ ¸ç»“æœã€‚`,"æ‰¹é‡åº”ç”¨LLMç¿»è¯‘ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),K.value=!0,k.value.forEach(t=>{const l=p.value.findIndex(r=>r===t);l!==-1&&(p.value[l].approved_text=t.translation||"",p.value[l].approved=!0,z(t))}),yield R(),i.success(`å·²å°† ${e} æ¡ç¿»è¯‘åº”ç”¨LLMç¿»è¯‘ç»“æœå¹¶ä¿å­˜`)}catch(e){}finally{K.value=!1}}),Be=()=>m(null,null,function*(){try{const e=k.value.length;yield E.confirm(`ç¡®å®šè¦å°†å½“å‰è¿‡æ»¤çš„ ${e} æ¡ç¿»è¯‘å…¨éƒ¨ä¿ç•™åŸæ–‡å—ï¼Ÿ`,"æ‰¹é‡ä¿ç•™åŸæ–‡ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),X.value=!0,k.value.forEach(t=>{const l=p.value.findIndex(r=>r===t);l!==-1&&(p.value[l].approved_text=t.original_text||"",p.value[l].approved=!0,z(t))}),yield R(),i.success(`å·²å°† ${e} æ¡ç¿»è¯‘æ ‡è®°ä¸ºä¿ç•™åŸæ–‡å¹¶ä¿å­˜`)}catch(e){}finally{X.value=!1}}),Fe=()=>m(null,null,function*(){try{const e=k.value.length;yield E.confirm(`ç¡®å®šè¦é‡ç½®å½“å‰è¿‡æ»¤çš„ ${e} æ¡ç¿»è¯‘çš„å®¡æ ¸çŠ¶æ€å—ï¼Ÿè¿™å°†æ¸…ç©ºæ‰€æœ‰å®¡æ ¸ç»“æœå¹¶å°†çŠ¶æ€è®¾ç½®ä¸ºæœªå®¡æ ¸ã€‚`,"é‡ç½®å®¡æ ¸çŠ¶æ€ç¡®è®¤",{confirmButtonText:"ç¡®å®šé‡ç½®",cancelButtonText:"å–æ¶ˆ",type:"warning",dangerouslyUseHTMLString:!0,message:`<div>
          <p>æ­¤æ“ä½œå°†ï¼š</p>
          <ul style="text-align: left; margin: 10px 0;">
            <li>æ¸…ç©ºæ‰€æœ‰å·²å®¡æ ¸çš„ç¿»è¯‘ç»“æœ</li>
            <li>å°†å®¡æ ¸çŠ¶æ€è®¾ç½®ä¸º"æœªå®¡æ ¸"</li>
            <li>è‡ªåŠ¨ä¿å­˜ä¿®æ”¹</li>
          </ul>
          <p><strong>æ³¨æ„ï¼šæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼</strong></p>
        </div>`}),Y.value=!0,k.value.forEach(t=>{const l=p.value.findIndex(r=>r===t);l!==-1&&(p.value[l].approved_text="",p.value[l].approved=!1,z(t))}),yield R(),i.success(`å·²é‡ç½® ${e} æ¡ç¿»è¯‘çš„å®¡æ ¸çŠ¶æ€å¹¶ä¿å­˜`)}catch(e){}finally{Y.value=!1}}),je=(e,t)=>{e.approved_text=t,z(e)},R=()=>m(null,null,function*(){try{D.value=!0;const e=yield ue.saveTranslationReview($.value.path,p.value);e.success?(i.success("å®¡æ ¸ç»“æœä¿å­˜æˆåŠŸ"),P.value.clear(),Q()):i.error(e.message)}catch(e){i.error("ä¿å­˜å®¡æ ¸ç»“æœå¤±è´¥")}finally{D.value=!1}}),Pe=()=>m(null,null,function*(){if(P.value.size!==0)try{const e=P.value.size;yield R(),i.success(`è‡ªåŠ¨ä¿å­˜æˆåŠŸ (${e} æ¡ä¿®æ”¹)`)}catch(e){console.error("è‡ªåŠ¨ä¿å­˜å¤±è´¥:",e)}}),pe=e=>e.total_count===0?100:Math.round(e.approved_count/e.total_count*100),Re=e=>{const t=pe(e);return t===100?"#67c23a":t>=70?"#e6a23c":"#f56c6c"},N=e=>e.total_count===0?!1:e.total_count>0&&e.approved_count===e.total_count,le=e=>e.total_count===0,oe=G(()=>{const e=H.value.filter(t=>!le(t));return e.length>0&&e.every(t=>N(t))}),Ee=e=>m(null,null,function*(){if(le(e)){i.info("è¯¥æ–‡ä»¶æ²¡æœ‰ç¿»è¯‘å†…å®¹ï¼Œæ— éœ€åº”ç”¨ç¿»è¯‘");return}if(!N(e)){i.warning("è¯·å…ˆå®Œæˆæ­¤æ–‡ä»¶çš„å®¡æ ¸");return}try{yield E.confirm(`ç¡®å®šè¦åº”ç”¨æ–‡ä»¶ "${e.path}" çš„ç¿»è¯‘å—ï¼Ÿ`,"åº”ç”¨ç¿»è¯‘ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),ee.value[e.path]=!0;const l=yield(yield fetch("/api/apply-translations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:e.path,apply_all:!1})})).json();l.success?i.success(`æ–‡ä»¶ "${e.path}" ç¿»è¯‘åº”ç”¨æˆåŠŸ`):i.error(l.message||"åº”ç”¨ç¿»è¯‘å¤±è´¥")}catch(t){t!=="cancel"&&i.error("åº”ç”¨ç¿»è¯‘å¤±è´¥")}finally{ee.value[e.path]=!1}}),Ue=()=>m(null,null,function*(){if(!oe.value){i.warning("è¯·å…ˆå®Œæˆæ‰€æœ‰æ–‡ä»¶çš„å®¡æ ¸");return}try{yield E.confirm(`ç¡®å®šè¦åº”ç”¨æ‰€æœ‰æ–‡ä»¶çš„ç¿»è¯‘å—ï¼Ÿå…± ${u.value.length} ä¸ªæ–‡ä»¶ã€‚`,"æ‰¹é‡åº”ç”¨ç¿»è¯‘ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),Z.value=!0;const t=yield(yield fetch("/api/apply-translations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apply_all:!0})})).json();t.success?i.success("æ‰€æœ‰æ–‡ä»¶ç¿»è¯‘åº”ç”¨æˆåŠŸ"):i.error(t.message||"åº”ç”¨ç¿»è¯‘å¤±è´¥")}catch(e){e!=="cancel"&&i.error("åº”ç”¨ç¿»è¯‘å¤±è´¥")}finally{Z.value=!1}}),Ie=()=>m(null,null,function*(){try{yield E.confirm("ç¡®å®šè¦å¯¼å‡ºç¿»è¯‘åŒ…å—ï¼Ÿè¿™å°†æ‰“åŒ…æ‰€æœ‰å·²ç¿»è¯‘çš„æ–‡ä»¶ã€‚","å¯¼å‡ºç¿»è¯‘åŒ…ç¡®è®¤",{confirmButtonText:"ç¡®å®šå¯¼å‡º",cancelButtonText:"å–æ¶ˆ",type:"info"}),te.value=!0;const e=yield fetch("/api/export_translation_package",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){const t=e.headers.get("content-type");if(t&&t.includes("application/zip")){const l=yield e.blob(),r=window.URL.createObjectURL(l),x=document.createElement("a");x.style.display="none",x.href=r;const M=e.headers.get("content-disposition");let B="translation_package.zip";if(M){const S=M.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);S&&S[1]&&(B=S[1].replace(/['"]/g,""))}x.download=B,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(r),document.body.removeChild(x),i.success("ç¿»è¯‘åŒ…å¯¼å‡ºæˆåŠŸ")}else{const l=yield e.json();l.success?i.success("ç¿»è¯‘åŒ…å¯¼å‡ºæˆåŠŸ"):i.error(l.message||"å¯¼å‡ºç¿»è¯‘åŒ…å¤±è´¥")}}else{const t=yield e.json();i.error(t.message||"å¯¼å‡ºç¿»è¯‘åŒ…å¤±è´¥")}}catch(e){e!=="cancel"&&(console.error("å¯¼å‡ºç¿»è¯‘åŒ…å¤±è´¥:",e),i.error("å¯¼å‡ºç¿»è¯‘åŒ…å¤±è´¥"))}finally{te.value=!1}});return he(()=>g.isConfigSelected,e=>{e&&u.value.length===0&&Q()}),Xe(()=>{g.isConfigSelected&&Q()}),(e,t)=>{const l=L("el-button"),r=L("el-empty"),x=L("el-icon"),M=L("el-input"),B=L("el-progress"),S=L("el-card"),T=L("el-tag"),h=L("el-option"),J=L("el-select"),Oe=L("el-alert"),Qe=L("el-pagination");return c(),v("div",et,[n(S,{class:"header-card"},{header:s(()=>t[8]||(t[8]=[o("div",{class:"card-header"},[o("span",null,"ğŸ“ ç¿»è¯‘å®¡æ ¸"),o("p",null,"å®¡æ ¸å’Œç¼–è¾‘ç¿»è¯‘å†…å®¹")],-1)])),default:s(()=>[se(g).isConfigSelected?(c(),v("div",at,[$.value?F("",!0):(c(),v("div",nt,[o("div",lt,[t[12]||(t[12]=o("h3",null,"é€‰æ‹©è¦å®¡æ ¸çš„ç¿»è¯‘æ–‡ä»¶",-1)),o("div",ot,[n(l,{type:"success",loading:te.value,onClick:Ie,icon:"Download"},{default:s(()=>t[10]||(t[10]=[d(" å¯¼å‡ºæ±‰åŒ–åŒ… ")])),_:1,__:[10]},8,["loading"]),n(l,{type:"primary",disabled:!oe.value,loading:Z.value,onClick:Ue,title:oe.value?"åº”ç”¨æ‰€æœ‰æ–‡ä»¶çš„ç¿»è¯‘":"è¯·å…ˆå®Œæˆæ‰€æœ‰æ–‡ä»¶çš„å®¡æ ¸"},{default:s(()=>t[11]||(t[11]=[d(" å…¨éƒ¨åº”ç”¨ç¿»è¯‘ ")])),_:1,__:[11]},8,["disabled","loading","title"])])]),o("div",st,[n(M,{modelValue:A.value,"onUpdate:modelValue":t[1]||(t[1]=a=>A.value=a),placeholder:"æœç´¢æ–‡ä»¶åæˆ–è·¯å¾„...",clearable:"",style:{"max-width":"400px"}},{prefix:s(()=>[n(x,null,{default:s(()=>[n(se(ye))]),_:1})]),_:1},8,["modelValue"]),A.value?(c(),v("div",rt," æ‰¾åˆ° "+f(H.value.length)+" / "+f(u.value.length)+" ä¸ªæ–‡ä»¶ ",1)):F("",!0)]),H.value.length===0&&u.value.length>0?(c(),v("div",it,[n(r,{description:"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡ä»¶"},{default:s(()=>[n(l,{onClick:t[2]||(t[2]=a=>A.value="")},{default:s(()=>t[13]||(t[13]=[d("æ¸…é™¤æœç´¢")])),_:1,__:[13]})]),_:1})])):u.value.length===0?(c(),v("div",ut,[n(r,{description:"æš‚æ— ç¿»è¯‘æ–‡ä»¶"},{default:s(()=>[n(l,{onClick:Q},{default:s(()=>t[14]||(t[14]=[d("åˆ·æ–°")])),_:1,__:[14]})]),_:1})])):(c(),v("div",ct,[(c(!0),v(re,null,ie(H.value,a=>(c(),v("div",{key:a.path,class:"file-card"},[n(S,{shadow:"hover",class:"clickable",onClick:V=>Le(a)},{default:s(()=>[o("div",dt,[o("h4",null,f(a.path),1),o("p",null,f(a.type)+" - "+f(a.total_count)+" æ¡ç¿»è¯‘ (å·²å®¡æ ¸: "+f(a.approved_count)+")",1),n(B,{percentage:pe(a),color:Re(a)},null,8,["percentage","color"])]),o("div",pt,[n(l,{size:"small",type:"success",disabled:!N(a),loading:ee.value[a.path],onClick:Ze(V=>Ee(a),["stop"]),title:le(a)?"è¯¥æ–‡ä»¶æ²¡æœ‰ç¿»è¯‘å†…å®¹":N(a)?"åº”ç”¨æ­¤æ–‡ä»¶çš„ç¿»è¯‘":"è¯·å…ˆå®Œæˆæ­¤æ–‡ä»¶çš„å®¡æ ¸"},{default:s(()=>t[15]||(t[15]=[d(" åº”ç”¨ç¿»è¯‘ ")])),_:2,__:[15]},1032,["disabled","loading","onClick","title"])])]),_:2},1032,["onClick"])]))),128))]))])),$.value?(c(),v("div",vt,[o("div",_t,[n(l,{onClick:be,icon:"ArrowLeft",loading:D.value},{default:s(()=>t[16]||(t[16]=[d(" è¿”å›æ–‡ä»¶åˆ—è¡¨ ")])),_:1,__:[16]},8,["loading"]),o("h3",null,f($.value.path),1),o("div",gt,[n(T,{type:"info"},{default:s(()=>[d("æ€»è®¡: "+f(p.value.length),1)]),_:1}),n(T,{type:"success"},{default:s(()=>[d("å·²å®¡æ ¸: "+f(ke()),1)]),_:1}),n(T,{type:"warning"},{default:s(()=>[d("å¾…å®¡æ ¸: "+f(Te()),1)]),_:1}),n(T,{type:"danger"},{default:s(()=>[d("å¼•å·ä¸åŒ¹é…: "+f(me()),1)]),_:1})])]),o("div",ft,[o("div",ht,[n(M,{modelValue:j.value,"onUpdate:modelValue":t[3]||(t[3]=a=>j.value=a),placeholder:"æœç´¢åŸæ–‡ã€è¯‘æ–‡ã€å®¡æ ¸ç»“æœæˆ–ä¸Šä¸‹æ–‡...ï¼ˆæ”¯æŒ \\u0001 æ ¼å¼æœç´¢æ§åˆ¶å­—ç¬¦ï¼‰",style:{width:"300px","margin-right":"12px"},clearable:"",onInput:O},{prefix:s(()=>[n(x,null,{default:s(()=>[n(se(ye))]),_:1})]),_:1},8,["modelValue"]),n(J,{modelValue:w.value,"onUpdate:modelValue":t[4]||(t[4]=a=>w.value=a),style:{width:"150px","margin-right":"12px"},onChange:O},{default:s(()=>[n(h,{label:"å…¨éƒ¨",value:"all"}),n(h,{label:"å·²å®¡æ ¸",value:"approved"}),n(h,{label:"æœªå®¡æ ¸",value:"unapproved"}),n(h,{label:"å·²ç¿»è¯‘",value:"translated"}),n(h,{label:"æœªç¿»è¯‘",value:"empty"})]),_:1},8,["modelValue"]),n(J,{modelValue:y.value,"onUpdate:modelValue":t[5]||(t[5]=a=>y.value=a),style:{width:"180px","margin-right":"12px"},onChange:O},{default:s(()=>[n(h,{label:"å…¨éƒ¨å»ºè®®",value:"all"}),n(h,{label:"LLMå»ºè®®ç¿»è¯‘",value:"suggested"}),n(h,{label:"LLMä¸å»ºè®®ç¿»è¯‘",value:"not_suggested"})]),_:1},8,["modelValue"]),n(J,{modelValue:b.value,"onUpdate:modelValue":t[6]||(t[6]=a=>b.value=a),style:{width:"180px","margin-right":"12px"},onChange:O},{default:s(()=>[n(h,{label:"å…¨éƒ¨æ¡ç›®",value:"all"}),n(h,{label:"å•è¯åŸæ–‡",value:"word_only"}),n(h,{label:"å¼•å·ä¸åŒ¹é…",value:"quote_mismatch"})]),_:1},8,["modelValue"]),n(J,{modelValue:I.value,"onUpdate:modelValue":t[7]||(t[7]=a=>I.value=a),style:{width:"120px","margin-right":"12px"},onChange:O},{default:s(()=>[n(h,{label:"50æ¡/é¡µ",value:50}),n(h,{label:"10æ¡/é¡µ",value:10}),n(h,{label:"100æ¡/é¡µ",value:100})]),_:1},8,["modelValue"])]),o("div",yt,[o("div",wt,[n(l,{type:"primary",onClick:R,loading:D.value},{default:s(()=>t[17]||(t[17]=[d(" ä¿å­˜å®¡æ ¸è¿›åº¦ ")])),_:1,__:[17]},8,["loading"])]),o("div",xt,[n(l,{type:"success",onClick:ze,loading:K.value},{default:s(()=>[d(" å…¨éƒ¨åº”ç”¨LLMç¿»è¯‘ ("+f(k.value.length)+"æ¡) ",1)]),_:1},8,["loading"]),n(l,{type:"info",onClick:Be,loading:X.value},{default:s(()=>[d(" å…¨éƒ¨ä¿ç•™åŸæ–‡ ("+f(k.value.length)+"æ¡) ",1)]),_:1},8,["loading"]),n(l,{type:"danger",onClick:Fe,loading:Y.value},{default:s(()=>[d(" å…¨éƒ¨é‡ç½®å®¡æ ¸çŠ¶æ€ ("+f(k.value.length)+"æ¡) ",1)]),_:1},8,["loading"])])])]),o("div",Ct,[n(Ye,{name:"translation-item",tag:"div"},{default:s(()=>[(c(!0),v(re,null,ie(Ce.value,a=>(c(),v("div",{key:a.translation_key||`${a.file_name}-${a.original_text}`,class:we(["translation-item",{approved:a.approved,"quote-mismatch":q(a)}])},[n(S,null,{default:s(()=>[o("div",mt,[o("div",kt,[n(T,{type:a.approved?"success":"warning",size:"small"},{default:s(()=>[d(f(a.approved?"å·²å®¡æ ¸":"å¾…å®¡æ ¸"),1)]),_:2},1032,["type"]),a.is_suggested_to_translate?(c(),W(T,{key:0,type:"primary",size:"small"},{default:s(()=>t[18]||(t[18]=[d(" LLMå»ºè®®ç¿»è¯‘ ")])),_:1,__:[18]})):(c(),W(T,{key:1,type:"info",size:"small"},{default:s(()=>t[19]||(t[19]=[d(" LLMä¸å»ºè®®ç¿»è¯‘ ")])),_:1,__:[19]})),q(a)?(c(),W(T,{key:2,type:"danger",size:"small"},{default:s(()=>t[20]||(t[20]=[d(" å¼•å·ä¸åŒ¹é… ")])),_:1,__:[20]})):F("",!0)]),o("div",Tt,"#"+f(Se(a)+1),1)]),o("div",Lt,[o("div",bt,[o("div",Mt,[t[21]||(t[21]=o("label",null,"åŸæ–‡:",-1)),o("div",{class:"original-text",innerHTML:ne(a.original_text)},null,8,Vt)])]),o("div",At,[o("div",St,[t[22]||(t[22]=o("label",null,"LLMç¿»è¯‘ç»“æœ:",-1)),o("div",{class:we(["machine-translation",{empty:!a.translation}])},[a.translation?(c(),v("span",{key:0,innerHTML:ne(a.translation)},null,8,$t)):(c(),v("span",zt,"æœªç¿»è¯‘"))],2)])]),o("div",Bt,[o("div",Ft,[t[24]||(t[24]=o("label",null,"å®¡æ ¸ç»“æœ:",-1)),n(M,{modelValue:a.approved_text,"onUpdate:modelValue":V=>a.approved_text=V,type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥å®¡æ ¸åçš„ç¿»è¯‘ç»“æœ...ï¼ˆæ”¯æŒ \\u0001 æ ¼å¼çš„è½¬ä¹‰å­—ç¬¦ï¼‰",onChange:V=>$e(a)},null,8,["modelValue","onUpdate:modelValue","onChange"]),a.approved_text?(c(),v("div",jt,[t[23]||(t[23]=o("div",{class:"preview-label"},"é¢„è§ˆæ•ˆæœ:",-1)),o("div",{innerHTML:ne(a.approved_text)},null,8,Pt)])):F("",!0)])]),a.context?(c(),v("div",Rt,[n(T,{size:"small",type:"info"},{default:s(()=>[d("ä¸Šä¸‹æ–‡: "+f(a.context),1)]),_:2},1024)])):F("",!0),a.llm_reason?(c(),v("div",Et,[n(Oe,{title:a.is_suggested_to_translate?"LLMå»ºè®®ç¿»è¯‘:":"LLMä¸å»ºè®®ç¿»è¯‘:",type:a.is_suggested_to_translate?"success":"warning",description:a.llm_reason,"show-icon":"",closable:!1},null,8,["title","type","description"])])):F("",!0),o("div",Ut,[n(l,{size:"small",onClick:V=>Me(a)},{default:s(()=>t[25]||(t[25]=[d(" åº”ç”¨LLMç¿»è¯‘ ")])),_:2,__:[25]},1032,["onClick"]),n(l,{size:"small",type:"info",onClick:V=>Ae(a)},{default:s(()=>t[26]||(t[26]=[d(" ä¿ç•™åŸæ–‡ ")])),_:2,__:[26]},1032,["onClick"]),n(l,{size:"small",type:"warning",onClick:V=>Ve(a)},{default:s(()=>t[27]||(t[27]=[d(" é‡ç½® ")])),_:2,__:[27]},1032,["onClick"])]),a.suggestions&&a.suggestions.length>0?(c(),v("div",It,[t[28]||(t[28]=o("p",null,"ç¿»è¯‘å»ºè®®:",-1)),o("div",Ot,[(c(!0),v(re,null,ie(a.suggestions,(V,De)=>(c(),W(T,{key:De,onClick:Ht=>je(a,V),class:"clickable-tag"},{default:s(()=>[d(f(V),1)]),_:2},1032,["onClick"]))),128))])])):F("",!0)])]),_:2},1024)],2))),128))]),_:1})]),o("div",Qt,[n(Qe,{"current-page":U.value,"page-size":I.value,total:k.value.length,layout:"prev, pager, next, jumper, total",onCurrentChange:xe},null,8,["current-page","page-size","total"])])])):F("",!0)])):(c(),v("div",tt,[n(r,{description:"è¯·å…ˆé€‰æ‹©é…ç½®"},{default:s(()=>[n(l,{type:"primary",onClick:t[0]||(t[0]=a=>e.$router.push("/"))},{default:s(()=>t[9]||(t[9]=[d(" å»é…ç½®ç®¡ç† ")])),_:1,__:[9]})]),_:1})]))]),_:1})])}}},Jt=We(Dt,[["__scopeId","data-v-13329f5b"]]);export{Jt as default};
